cc_library(
  name = "uv",
  srcs = glob(["src/*.c", "src/*.h",
    "src/unix/async.c",
    "src/unix/atomic-ops.h",
    "src/unix/core.c",
    "src/unix/dl.c",
    "src/unix/fs.c",
    "src/unix/getaddrinfo.c",
    "src/unix/getnameinfo.c",
    "src/unix/internal.h",
    "src/unix/loop-watcher.c",
    "src/unix/linux-syscalls.c",
    "src/unix/linux-syscalls.h",
    "src/unix/linux-core.c",
    "src/unix/linux-inotify.c",
    "src/unix/loop.c",
    "src/unix/pipe.c",
    "src/unix/poll.c",
    "src/unix/process.c",
    "src/unix/signal.c",
    "src/unix/spinlock.h",
    "src/unix/stream.c",
    "src/unix/tcp.c",
    "src/unix/thread.c",
    "src/unix/timer.c",
    "src/unix/tty.c",
    "src/unix/udp.c"]),
  hdrs = glob(["include/*.h"]),
  # TODO(james): Actually handle assertion failures properly.
  copts = ["-DNDEBUG"],
  includes = ["include/", "src/"],
  visibility = ["//visibility:public"],
)
